(this.webpackJsonpstackline=this.webpackJsonpstackline||[]).push([[0],{165:function(e,t,c){},166:function(e,t,c){},174:function(e,t,c){},176:function(e,t,c){},177:function(e,t,c){},178:function(e,t,c){},179:function(e,t,c){},180:function(e,t,c){},184:function(e,t,c){"use strict";c.r(t);var n,a,r=c(0),l=c.n(r),s=c(22),i=c.n(s),d=(c(165),c(55)),o=c(3);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function j(e,t){var c=e.title,l=e.titleId,s=u(e,["title","titleId"]);return r.createElement("svg",h({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 3415 597.8",style:{enableBackground:"new 0 0 3415 597.8"},xmlSpace:"preserve",ref:t,"aria-labelledby":l},s),c?r.createElement("title",{id:l},c):null,n||(n=r.createElement("style",{type:"text/css"},"\n\t.st0{fill:#FFFFFF;}\n")),a||(a=r.createElement("g",{id:"on_black"},r.createElement("path",{className:"st0",d:"M92.4,594.5c-51-0.1-92.3-41.4-92.4-92.4v-82.6h101v59c0,12.7,10.3,23,23,23l0,0h160c12.7,0,23-10.3,23-23l0,0 v-72.3c0-24.1-11.2-30.9-34.7-36.3l-156-33.6c-39.5-8.5-66.3-20-84.3-36.2C11.8,282,2,256.9,2,223.4V115.9 c0.1-51,41.4-92.3,92.4-92.4h215.2c51,0.1,92.3,41.4,92.4,92.4v75.6H301v-52c0-12.7-10.3-23-23-23l0,0H130c-12.7,0-23,10.3-23,23 l0,0V205c0,24.1,11.2,30.9,34.7,36.3l156,33.6c39.5,8.5,66.3,20,84.3,36.2c20.2,18.1,30,43.2,30,76.7v114.3 c-0.1,51-41.4,92.3-92.4,92.4H92.4z"}),r.createElement("path",{className:"st0",d:"M617,594.5c-46.4-0.1-83.9-37.6-84-84v-275h-67v-78h69V71.1l96-20.7v107.1h99v78h-97V492 c0,12.4,10.1,22.5,22.5,22.5H730v80H617z"}),r.createElement("path",{className:"st0",d:"M910.9,597.8c-42.5,0-70.4-8.7-87.9-27.3c-17.7-18.8-26-48.9-26-94.8c0-43.3,9.6-74.5,29.3-95.5 c17.5-18.6,43.4-30,81.6-35.9c41.5-6.4,84.8-9.7,145.5-13.3l7.5-0.4v-71.7c0-12.4-10.1-22.5-22.5-22.5h-105 c-12.4,0-22.5,10.1-22.5,22.5v22.5h-98v-40c0.1-46.4,37.6-83.9,84-84h180c46.4,0.1,83.9,37.6,84,84v353h-100v-87.6l-14.5,20.5 c-19.2,27.1-35.6,43.2-55,53.8C970.7,592.6,945.1,597.8,910.9,597.8z M1052.2,391.5c-48.4,5.1-97.6,14.1-121.1,20.4 c-24.4,6.5-35.3,15.6-35.3,52.2c0,18.2,1.2,31.2,7.1,39.5c6.6,9.3,17.2,11.2,31,11.2c55.6,0,86.7-16.7,119.6-34.4l7.5-4v-85.9 L1052.2,391.5z"}),r.createElement("path",{className:"st0",d:"M1343,594.5c-46.4-0.1-83.9-37.6-84-84v-269c0.1-46.4,37.6-83.9,84-84h180c46.4,0.1,83.9,37.6,84,84v66h-100 V265c0-12.4-10.1-22.5-22.5-22.5h-103c-12.4,0-22.5,10.1-22.5,22.5v223c0,12.4,10.1,22.5,22.5,22.5h103c12.4,0,22.5-10.1,22.5-22.5 v-43.5h100v66c-0.1,46.4-37.6,83.9-84,84H1343z"}),r.createElement("polygon",{className:"st0",points:"1978.2,594.5 1877.1,400.8 1804,492.3 1804,594.5 1706,594.5 1706,21.1 1804,0 1804,367.3 1963,157.5  2072.8,157.5 1939.1,323.9 2084.5,594.5  "}),r.createElement("polygon",{className:"st0",points:"2149,594.5 2149,21.8 2249,0.3 2249,594.5  "}),r.createElement("path",{className:"st0",d:"M2371,594.5v-437h100v437H2371z M2368,91.5V23.3l106-22.9v91.1H2368z"}),r.createElement("path",{className:"st0",d:"M2858,594.5V271.3c0-25.1-13.1-29.8-37.3-29.8c-44.8,0-86.4,12-124,35.5l-3.7,2.3v315.2h-100v-437h100v84.1 l14.6-21.1c34.7-50.1,69-67,136-67c41.9,0,71,8.1,88.8,24.8c17.5,16.4,25.7,41.7,25.7,79.6v336.6H2858z"}),r.createElement("path",{className:"st0",d:"M3140,594.5c-46.4-0.1-83.9-37.6-84-84v-269c0.1-46.4,37.6-83.9,84-84h191c46.4,0.1,83.9,37.6,84,84v159h-259 V494c0,12.4,10.1,22.5,22.5,22.5h114c12.4,0,22.5-10.1,22.5-22.5v-31.5h100v48c-0.1,46.4-37.6,83.9-84,84H3140z M3178.5,235.5 c-12.4,0-22.5,10.1-22.5,22.5v80.5h159V258c0-12.4-10.1-22.5-22.5-22.5H3178.5z"}))))}var b=r.forwardRef(j),v=(c.p,c(166),c(1)),f=function(){return Object(v.jsx)("header",{children:Object(v.jsx)("div",{className:"logo",children:Object(v.jsx)(b,{})})})},m=c(15),O=c(24),x=c(56),g=(c(174),function(e){var t=l.a.useState([]),c=Object(m.a)(t,2),n=c[0],a=c[1];0===n.length&&e.data!==n&&a(e.data);var r=function(e){var t=null;switch(e){case 0:t=n.sort((function(e,t){return Date.parse(t.weekEnding)-Date.parse(e.weekEnding)}));break;case 1:t=n.sort((function(e,t){return t.retailSales-e.retailSales}));break;case 2:t=n.sort((function(e,t){return t.wholesaleSales-e.wholesaleSales}));break;case 3:t=n.sort((function(e,t){return t.unitsSold-e.unitsSold}));break;case 4:t=n.sort((function(e,t){return t.retailerMargin-e.retailerMargin}))}a(Object(x.a)(t))};return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"table-header",children:[Object(v.jsxs)("div",{className:"table-title",onClick:function(){return r(0)},children:[Object(v.jsx)("p",{children:"WEEK ENDING"}),Object(v.jsx)("div",{children:"\uffec"})]}),Object(v.jsxs)("div",{className:"table-title",onClick:function(){return r(1)},children:[Object(v.jsx)("p",{children:"RETAIL SALES"}),Object(v.jsx)("div",{children:"\uffec"})]}),Object(v.jsxs)("div",{className:"table-title",onClick:function(){return r(2)},children:[Object(v.jsx)("p",{children:"WHOLE SALES"}),Object(v.jsx)("div",{children:"\uffec"})]}),Object(v.jsxs)("div",{className:"table-title",onClick:function(){return r(3)},children:[Object(v.jsx)("p",{children:"UNITS SOLD"}),Object(v.jsx)("div",{children:"\uffec"})]}),Object(v.jsxs)("div",{className:"table-title",onClick:function(){return r(4)},children:[Object(v.jsx)("p",{children:"RETAIL MARGIN"}),Object(v.jsx)("div",{children:"\uffec"})]})]}),Object(v.jsx)("div",{className:"table-body",children:n instanceof Array&&n.map((function(e,t){return Object(v.jsxs)("div",{className:"table-row",children:[Object(v.jsx)("div",{className:"table-cell",children:e.weekEnding}),Object(v.jsxs)("div",{className:"table-cell",children:["$",Number(e.retailSales).toLocaleString()]}),Object(v.jsxs)("div",{className:"table-cell",children:["$",Number(e.wholesaleSales).toLocaleString()]}),Object(v.jsx)("div",{className:"table-cell",children:e.unitsSold}),Object(v.jsxs)("div",{className:"table-cell",children:["$",Number(e.retailerMargin).toLocaleString()]})]},t)}))})]})}),p=l.a.memo(g),N=c(8),w=(c(176),function(e){l.a.useEffect((function(){var c=[];if(0!==e.data.length){for(var n=0;n<e.data.length;n++)c.push({date:N.i("%Y-%m-%d")(e.data[n].weekEnding),value:e.data[n].retailSales});console.log(c),t(c)}}),[e.data]);var t=function(t){N.h("#container").select("svg").remove();var c=75,n=75,a=75,r=75,l=e.width-c-a,s=e.height-r-n,i=N.h("#container").append("svg").attr("width",l+a).attr("height",s+n).append("g").attr("transform","translate(".concat(r-25,",").concat(c-25,")")),d=N.g().domain(N.c(t,(function(e){return e.date}))).range([0,l]);i.append("g").attr("transform","translate(0,"+s+")").call(N.a(d)).selectAll("text").style("text-anchor","center");var o=N.f().domain([0,N.e(t,(function(e){return e.value}))]).range([s,0]);i.append("g").call(N.b(o)).selectAll("text").style("text-anchor","center"),i.append("path").datum(t).attr("fill","none").attr("stroke","#37acf5").attr("stroke-width",3).attr("d",N.d().x((function(e){return d(e.date)})).y((function(e){return o(e.value)})))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:e.title}),Object(v.jsx)("div",{id:"container"})]})}),E=(c(177),function(e){var t=e.url,c=e.title,n=e.detail;return Object(v.jsxs)("div",{className:"item-container",children:[Object(v.jsx)("img",{src:t,className:"item-image"}),Object(v.jsx)("h2",{children:c}),Object(v.jsx)("p",{children:n})]})}),S=(c(178),function(e){return Object(v.jsx)("div",{className:"tag-container",children:e.name})}),y="SET_RETAILS_SALE",k=(c(179),function(){var e=Object(O.b)(),t=l.a.useState([]),c=Object(m.a)(t,2),n=c[0],a=c[1],r=l.a.useState({}),s=Object(m.a)(r,2),i=s[0],d=s[1],o=l.a.useState({width:0,height:0}),h=Object(m.a)(o,2),u=h[0],j=h[1],b=l.a.useRef();return l.a.useEffect((function(){b.current&&(console.log("chartRef.current,",b.current),j({width:b.current.getBoundingClientRect().width,height:b.current.getBoundingClientRect().height}))}),[]),l.a.useEffect((function(){fetch("./stackline_frontend_assessment_data_2021.json").then((function(e){return e.json()})).then((function(t){var c,n;a(null===(c=t[0])||void 0===c?void 0:c.sales),d(t[0]),e(function(e){return{type:y,data:e}}(null===(n=t[0])||void 0===n?void 0:n.sales))})).catch((function(e){console.log(e)}))}),[e]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"grid-container",children:[Object(v.jsxs)("div",{className:"panel",children:[Object(v.jsx)(E,{url:i.image,detail:i.subtitle,title:i.title}),Object(v.jsx)("div",{className:"tag-wrapper",children:i.tags&&i.tags.map((function(e,t){return Object(v.jsx)(S,{name:e},t)}))})]}),Object(v.jsx)("div",{className:"chart",ref:b,children:Object(v.jsx)(w,{title:"Retail Sales",data:n,width:u.width,height:u.height})}),Object(v.jsx)("div",{className:"table",children:Object(v.jsx)(p,{data:n})})]})})});c(180);var L=function(){return Object(v.jsx)(d.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(f,{}),Object(v.jsx)(o.c,{children:Object(v.jsx)(o.a,{path:"/",children:Object(v.jsx)(k,{})})})]})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,185)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;c(e),n(e),a(e),r(e),l(e)}))},C=c(23),F=c(36),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(F.a)(Object(F.a)({},e),{},{sales:t.data});default:return e}},I=Object(C.b)(H);i.a.render(Object(v.jsx)(O.a,{store:I,children:Object(v.jsx)(L,{})}),document.getElementById("root")),M()}},[[184,1,2]]]);
//# sourceMappingURL=main.14b74c09.chunk.js.map